webpackJsonp([58],{"9vT3":function(t,e){},KODW:function(t,e){},LyEV:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={components:{LXSXX:l("CgCp").a},data:function(){return{radio1:"0",radio2:"0",typet:"1",CurrentPage:1,pageSize:10,TotalResult:0,pd:{BIRTHDAY_DateRange:{begin:"",end:"",dataType:"date"},STASTUDY_Begin:{begin:"",dataType:"date"},ENDSTUDY_End:{end:"",dataType:"date"}},pm:{},imagess:[],imgshow1:!1,imgshow2:!0,shm:!1,lg:!1,type:1,xid:"",random:"",lxsDialogVisible:!1,options:[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"}],tableData:[],tableHead:[{code:"GJDQ_DESC",label:"国家地区"},{code:"STUTYPE",label:"学生类别"},{code:"ACCACADEMY",label:"申请学校"},{code:"COMPANY",label:"推荐人"},{code:"GJDQ_DESC",label:"十国人员"},{code:"GJDQ_DESC",label:"三十一国人员"}],tableHeadHc:[],tableHeadHs:[],configHeader:[],pd0:{},form:{},falg:!1,disa:!1,multipleSelection:[],selectionAll:[],yuid:[],selectionReal:[]}},mounted:function(){this.$store.dispatch("getGjdq"),this.$store.dispatch("getXB"),this.$store.dispatch("getSsdw"),this.$store.dispatch("getZjzl"),this.$store.dispatch("getRjqzzl"),this.$store.dispatch("getRjsy"),this.$store.dispatch("getZsxz"),this.$store.dispatch("getSjly")},methods:{selectfn:function(t,e){this.multipleSelection=t,this.dataSelection()},dataSelection:function(){console.log("this.multipleSelection",this.multipleSelection),this.selectionReal.splice(this.CurrentPage-1,1,this.multipleSelection),console.log("this.selectionReal",this.selectionReal),this.selectionAll=[];for(var t=0;t<this.selectionReal.length;t++)if(this.selectionReal[t])for(var e=0;e<this.selectionReal[t].length;e++)this.selectionAll.push(this.selectionReal[t][e]);console.log("this.selectionAll",this.selectionAll)},download:function(){var t=this,e={};if(0==this.tableHeadHc.length)if(0==this.selectionAll.length)e={pd:this.pd};else{for(var l in this.yuid=[],this.selectionAll)this.yuid.push(this.selectionAll[l].DTID);this.pd.DTID=this.yuid,e={pd:this.pd}}else e=0==this.selectionAll.length?{pd:this.pd,groupList:this.tableHeadHc}:{requestTempList:this.selectionAll,groupList:this.tableHeadHc};this.$api.post(this.Global.aport5+"/jiaoYuTing202Controller/export",e,function(e){t.downloadM(e)},function(t){},{},"blob")},downloadM:function(t){if(t){var e=window.URL.createObjectURL(new Blob([t],{type:"application/xls"})),l=document.createElement("a");l.style.display="none",l.href=e,l.setAttribute("download","教育厅综合分析列表"+this.format(new Date,"yyyyMMddhhmmss")+".xls"),document.body.appendChild(l),l.click()}},headerClick:function(t,e){e.target.title=t.label},handleSelectionChange:function(t){this.multipleSelection=t},pageSizeChange:function(t){this.pageSize=t,this.getList(this.CurrentPage,t,this.pd),console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.CurrentPage=t,this.getList(t,this.pageSize,this.pd),console.log("当前页: "+t)},open:function(t){this.$alert(t,"提示",{confirmButtonText:"确定"})},getList:function(t,e,l){var a=this;void 0!=this.pd.ZWXM||void 0!=this.pd.YWXM||void 0!=this.pd.ZJHM?(this.falg=!1,this.disa=!0):this.disa=!1,this.tableHeadHc=[],this.tableHeadHs=[],1==this.pm.NATIONALITY&&(this.tableHeadHc.push("NATIONALITY"),this.tableHeadHs.push("国家地区")),1==this.pm.STUTYPE&&(this.tableHeadHc.push("STUTYPE"),this.tableHeadHs.push("学生类别")),1==this.pm.ACCACADEMY&&(this.tableHeadHc.push("ACCACADEMY"),this.tableHeadHs.push("申请学校")),1==this.pm.COMPANY&&(this.tableHeadHc.push("COMPANY"),this.tableHeadHs.push("推荐人")),1==this.pm.SHIGUO&&(this.tableHeadHc.push("SHIGUO"),this.tableHeadHs.push("十国人员")),1==this.pm.SANSHIYIGUO&&(this.tableHeadHc.push("SANSHIYIGUO"),this.tableHeadHs.push("三十一国人员")),l.hasOwnProperty("DTID")&&delete l.DTID;var s={currentPage:t,showCount:e,pd:l,orderBy:"",orderType:"DESC",groupList:this.tableHeadHc};this.$api.post(this.Global.aport5+"/jiaoYuTing202Controller/getCount",s,function(t){if("true"==t.data.isFenLei){a.falg=!0,a.tableData=t.data.resultList,a.TotalResult=t.data.totalResult,a.configHeader=[];for(var l=a,i=0;i<l.tableHeadHs.length;i++){for(var n="",o={},c=0;c<l.tableHead.length;c++)l.tableHead[c].label==l.tableHeadHs[i]&&(n=c,o.code=l.tableHead[c].code,o.label=l.tableHead[c].label);l.configHeader.splice(n,0,o)}0==a.selectionReal.length&&(a.selectionReal=new Array(Math.ceil(a.TotalResult/e))),a.$nextTick(function(){a.multipleSelection=[];for(var t=0;t<a.tableData.length;t++)for(var e=0;e<a.selectionAll.length;e++)a.chargeObjectEqual(a.tableData[t],a.selectionAll[e])&&a.$refs.multipleTable.toggleRowSelection(a.tableData[t],!0)})}else{a.falg=!1;var p=a.Global.aport5+"/jiaoYuTing202Controller/getResultListByParams";a.$api.post(p,s,function(t){t.success&&(a.tableData=t.data.resultList,a.TotalResult=t.data.totalResult,0==a.selectionReal.length&&(a.selectionReal=new Array(Math.ceil(a.TotalResult/e))),a.$nextTick(function(){a.multipleSelection=[];for(var t=0;t<a.tableData.length;t++)for(var e=0;e<a.selectionAll.length;e++)a.tableData[t].DTID==a.selectionAll[e].DTID&&a.$refs.multipleTable.toggleRowSelection(a.tableData[t],!0)}))})}})},details:function(t){this.random=(new Date).getTime(),this.xid=t.DTID,this.lxsDialogVisible=!0}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"yymain tshu"},[l("div",{staticClass:"yytitle"},[l("el-row",{attrs:{type:"flex"}},[l("el-col",{staticClass:"br pr-20",attrs:{span:22}},[l("el-row",{attrs:{align:"center",gutter:2}},[l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("中文姓名：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.CNAME,callback:function(e){t.$set(t.pd,"CNAME",e)},expression:"pd.CNAME"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("英文姓：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.EFAMILY,callback:function(e){t.$set(t.pd,"EFAMILY",e)},expression:"pd.EFAMILY"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("英文名：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.ENAME,callback:function(e){t.$set(t.pd,"ENAME",e)},expression:"pd.ENAME"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("性别：")]),t._v(" "),l("el-select",{staticClass:"yy-input-input",attrs:{placeholder:"请选择",filterable:"",clearable:"","default-first-option":"",size:"small"},model:{value:t.pd.SEX,callback:function(e){t.$set(t.pd,"SEX",e)},expression:"pd.SEX"}},t._l(t.$store.state.xb,function(t){return l("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("出生日期：")]),t._v(" "),l("div",{staticClass:"yy-input-input t-flex t-date"},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"开始时间"},model:{value:t.pd.BIRTHDAY_DateRange.begin,callback:function(e){t.$set(t.pd.BIRTHDAY_DateRange,"begin",e)},expression:"pd.BIRTHDAY_DateRange.begin"}}),t._v(" "),l("span",{staticClass:"septum"},[t._v("-")]),t._v(" "),l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"结束时间"},model:{value:t.pd.BIRTHDAY_DateRange.end,callback:function(e){t.$set(t.pd.BIRTHDAY_DateRange,"end",e)},expression:"pd.BIRTHDAY_DateRange.end"}})],1)]),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("证件号码：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.PASSNO,callback:function(e){t.$set(t.pd,"PASSNO",e)},expression:"pd.PASSNO"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("学习开始时间：")]),t._v(" "),l("el-date-picker",{staticClass:"yy-input-input",attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"开始时间"},model:{value:t.pd.STASTUDY_Begin.begin,callback:function(e){t.$set(t.pd.STASTUDY_Begin,"begin",e)},expression:"pd.STASTUDY_Begin.begin"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("学习结束时间：")]),t._v(" "),l("el-date-picker",{staticClass:"yy-input-input",attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"开始时间"},model:{value:t.pd.ENDSTUDY_End.end,callback:function(e){t.$set(t.pd.ENDSTUDY_End,"end",e)},expression:"pd.ENDSTUDY_End.end"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("国家地区：")]),t._v(" "),l("el-select",{staticClass:"yy-input-input",attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"","default-first-option":"",placeholder:"请选择",size:"small"},model:{value:t.pd.NATIONALITY,callback:function(e){t.$set(t.pd,"NATIONALITY",e)},expression:"pd.NATIONALITY"}},t._l(t.$store.state.gjdq,function(t){return l("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("学生类别：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.STUTYPE,callback:function(e){t.$set(t.pd,"STUTYPE",e)},expression:"pd.STUTYPE"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("申请学校：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.ACCACADEMY,callback:function(e){t.$set(t.pd,"ACCACADEMY",e)},expression:"pd.ACCACADEMY"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"yy-input-text"},[t._v("推荐人：")]),t._v(" "),l("el-input",{staticClass:"yy-input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.COMPANY,callback:function(e){t.$set(t.pd,"COMPANY",e)},expression:"pd.COMPANY"}})],1)],1)],1),t._v(" "),l("el-col",{staticClass:"down-btn-area",attrs:{span:2}},[l("el-button",{staticClass:"mb-15",attrs:{type:"success",size:"small"},on:{click:function(e){t.CurrentPage=1,t.getList(t.CurrentPage,t.pageSize,t.pd)}}},[t._v("查询")]),t._v(" "),l("el-button",{staticClass:"t-ml0",attrs:{type:"success",size:"small"},on:{click:t.download}},[t._v("导出")])],1)],1)],1),t._v(" "),l("div",{staticClass:"yycontent"},[l("div",{staticClass:"yylbt mb-15"},[t._v("统计类别")]),t._v(" "),l("div",{staticClass:"mb-15 t-tjCheck"},[l("el-checkbox",{attrs:{label:"国家地区",disabled:t.disa},model:{value:t.pm.NATIONALITY,callback:function(e){t.$set(t.pm,"NATIONALITY",e)},expression:"pm.NATIONALITY"}}),t._v(" "),l("el-checkbox",{attrs:{label:"学生类别",disabled:t.disa},model:{value:t.pm.STUTYPE,callback:function(e){t.$set(t.pm,"STUTYPE",e)},expression:"pm.STUTYPE"}}),t._v(" "),l("el-checkbox",{attrs:{label:"申请学校",disabled:t.disa},model:{value:t.pm.ACCACADEMY,callback:function(e){t.$set(t.pm,"ACCACADEMY",e)},expression:"pm.ACCACADEMY"}}),t._v(" "),l("el-checkbox",{attrs:{label:"推荐人",disabled:t.disa},model:{value:t.pm.COMPANY,callback:function(e){t.$set(t.pm,"COMPANY",e)},expression:"pm.COMPANY"}}),t._v(" "),l("el-checkbox",{attrs:{label:"十国人员",disabled:t.disa},model:{value:t.pm.SHIGUO,callback:function(e){t.$set(t.pm,"SHIGUO",e)},expression:"pm.SHIGUO"}}),t._v(" "),l("el-checkbox",{attrs:{label:"三十一国人员",disabled:t.disa},model:{value:t.pm.SANSHIYIGUO,callback:function(e){t.$set(t.pm,"SANSHIYIGUO",e)},expression:"pm.SANSHIYIGUO"}})],1),t._v(" "),t.falg?l("div",[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{select:t.selectfn}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.configHeader,function(t,e){return l("el-table-column",{key:e,attrs:{prop:t.code,label:t.label}})}),t._v(" "),l("el-table-column",{attrs:{prop:"count_DESC",label:"统计数量"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(l){t.$router.push({name:"JYTRYXX",query:{row:e.row,queryPd:t.pd}})}}})]}}])})],2),t._v(" "),l("div",{staticClass:"middle-foot"},[l("div",{staticClass:"page-msg"},[l("div",{},[t._v("\n          共"+t._s(t.TotalResult)+"条记录\n            ")]),t._v(" "),l("div",{},[t._v("\n              每页显示\n              "),l("el-select",{staticClass:"page-select",attrs:{placeholder:"10",size:"mini"},on:{change:function(e){t.pageSizeChange(t.pageSize)}},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n              条\n            ")],1),t._v(" "),l("div",{},[t._v("\n            共"+t._s(Math.ceil(t.TotalResult/t.pageSize))+"页\n            ")])]),t._v(" "),l("el-pagination",{attrs:{background:"","current-page":t.CurrentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.TotalResult},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.CurrentPage=e}}})],1)],1):l("div",[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{"header-click":t.headerClick,select:t.selectfn}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"CNAME",label:"中文姓名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"EFAMILY",label:"英文姓"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ENAME",label:"英文名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"SEX_DESC",label:"性别"}}),t._v(" "),l("el-table-column",{attrs:{prop:"BIRTHDAY",label:"出生日期"}}),t._v(" "),l("el-table-column",{attrs:{prop:"PASSNO",label:"证件号码"}}),t._v(" "),l("el-table-column",{attrs:{prop:"STASTUDY",label:"学习开始时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ENDSTUDY",label:"学习结束时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"BCOUNTRY",label:"国家地区"}}),t._v(" "),l("el-table-column",{attrs:{prop:"STUTYPE",label:"学生类别"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ACCACADEMY",label:"申请学校"}}),t._v(" "),l("el-table-column",{attrs:{prop:"COMPANY",label:"推荐人"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(l){t.details(e.row)}}})]}}])})],1),t._v(" "),l("div",{staticClass:"middle-foot"},[l("div",{staticClass:"page-msg"},[l("div",{},[t._v("\n        共"+t._s(t.TotalResult)+"条记录\n          ")]),t._v(" "),l("div",{},[t._v("\n            每页显示\n            "),l("el-select",{staticClass:"page-select",attrs:{placeholder:"10",size:"mini"},on:{change:function(e){t.pageSizeChange(t.pageSize)}},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n            条\n          ")],1),t._v(" "),l("div",{},[t._v("\n          共"+t._s(Math.ceil(t.TotalResult/t.pageSize))+"页\n          ")])]),t._v(" "),l("el-pagination",{attrs:{background:"","current-page":t.CurrentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.TotalResult},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.CurrentPage=e}}})],1)],1)]),t._v(" "),l("div",{staticClass:"bj"},[l("el-dialog",{attrs:{title:"留学生申请信息详情",visible:t.lxsDialogVisible,"custom-class":"big_dialog","append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.lxsDialogVisible=e}}},[l("LXSXX",{attrs:{type:t.type,xid:t.xid,random:t.random}}),t._v(" "),l("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[l("el-button",{attrs:{size:"small"},on:{click:function(e){t.lxsDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)])},staticRenderFns:[]};var i=l("VU/8")(a,s,!1,function(t){l("9vT3"),l("KODW")},"data-v-2de910e6",null);e.default=i.exports}});
//# sourceMappingURL=58.21f15f0d2bb4c4615172.js.map
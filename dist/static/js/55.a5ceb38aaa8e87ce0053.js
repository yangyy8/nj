webpackJsonp([55],{"3hdO":function(t,e){},PUQQ:function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a={data:function(){return{CurrentPage:1,pageSize:10,TotalResult:0,pd:{CSRQ_DateRange:{},ZCRQ_DateRange:{}},pd0:{},pm:{},configHeader:[],tableData:[],tableData1:[],falg:!1,disa:!0,rs:0,detailsDialogVisible:!1,options:[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"}],checkItem:[{code:"GJDQDM",label:"国家地区"},{code:"XBDM",label:"性别"},{code:"RS_Nokeyword",label:"户室人数"},{code:"SFDM",label:"身份类型"}],checkedList:[],checkItemReal:[],tableHead:[{code:"GJDQ_DESC",label:"国家地区"},{code:"XBDM_DESC",label:"性别"},{code:"RS",label:"户室人数"},{code:"SFDM_DESC",label:"身份类型"}],num:0,multipleSelection:[],selectionAll:[],yuid:[],selectionReal:[]}},mounted:function(){this.$store.dispatch("getGjdq"),this.$store.dispatch("getXB"),this.$store.dispatch("getSflx")},watch:{falg:function(t,e){this.multipleSelection=[],this.selectionAll=[],this.selectionReal=[]},checkedList:{handler:function(t,e){console.log(t,e),t.toString()!=e.toString()&&(this.multipleSelection=[],this.selectionAll=[],this.selectionReal=[])}}},methods:{handleChange:function(t){console.log(t)},selectfn:function(t,e){this.multipleSelection=t,this.dataSelection()},dataSelection:function(){console.log("this.multipleSelection",this.multipleSelection),this.selectionReal.splice(this.CurrentPage-1,1,this.multipleSelection),console.log("this.selectionReal",this.selectionReal),this.selectionAll=[];for(var t=0;t<this.selectionReal.length;t++)if(this.selectionReal[t])for(var e=0;e<this.selectionReal[t].length;e++)this.selectionAll.push(this.selectionReal[t][e]);console.log("this.selectionAll",this.selectionAll)},download:function(){var t=this,e={};if(0==this.checkedList.length)if(0==this.selectionAll.length)e={pd:this.pd};else{for(var l in this.yuid=[],this.selectionAll)this.yuid.push(this.selectionAll[l].RGUID);this.pd.RGUID=this.yuid,e={pd:this.pd}}else e=0==this.selectionAll.length?{pd:this.pd,groupList:this.checkedList}:{requestTempList:this.selectionAll,groupList:this.checkedList};this.$api.post(this.Global.aport5+"/nanMinController/export",e,function(e){t.downloadM(e)},function(t){},{},"blob")},downloadM:function(t){if(t){var e=window.URL.createObjectURL(new Blob([t],{type:"application/xls"})),l=document.createElement("a");l.style.display="none",l.href=e,l.setAttribute("download","难民综合分析列表"+this.format(new Date,"yyyyMMddhhmmss")+".xls"),document.body.appendChild(l),l.click()}},pageSizeChange:function(t){this.pageSize=t,this.getList(this.CurrentPage,t,this.pd)},handleCurrentChange:function(t){this.CurrentPage=t,this.getList(t,this.pageSize,this.pd)},open:function(t){this.$alert(t,"提示",{confirmButtonText:"确定"})},getList:function(t,e,l){var a=this;if(void 0!=this.pd0.beginCS&&void 0!=this.pd0.endCS)this.pd.CSRQ_DateRange.begin=this.pd0.beginCS,this.pd.CSRQ_DateRange.end=this.pd0.endCS;else if(void 0!=this.pd0.beginCS||void 0!=this.pd0.endCS)return void this.open("出生日期开始时间和结束时间都不能为空！");if(void 0!=this.pd0.beginZC&&void 0!=this.pd0.endZC)this.pd.ZCRQ_DateRange.begin=this.pd0.beginZC,this.pd.ZCRQ_DateRange.end=this.pd0.endZC;else if(void 0!=this.pd0.beginZC||void 0!=this.pd0.endZC)return void this.open("注册日期的开始时间和结束时间都不能为空！");0!=this.rs?this.pd.RS=this.rs:this.pd.hasOwnProperty("RS")&&delete this.pd.RS,this.checkItemReal=[];for(var s=0;s<this.checkedList.length;s++)for(var i=0;i<this.checkItem.length;i++)this.checkedList[s]==this.checkItem[i].code&&this.checkItemReal.push(this.checkItem[i]);l.hasOwnProperty("RGUID")&&delete l.RGUID;var n={currentPage:t,showCount:e,pd:l,orderBy:"ZCRQ",orderType:"DESC",groupList:this.checkedList};this.$api.post(this.Global.aport5+"/nanMinController/getCount",n,function(t){if("true"==t.data.isFenLei){a.falg=!0,a.tableData=t.data.resultList,a.TotalResult=t.data.totalResult,a.configHeader=[];for(var l=a,s=0;s<l.checkItemReal.length;s++){for(var i={},o=0;o<l.tableHead.length;o++)l.tableHead[o].label==l.checkItemReal[s].label&&(i.code=l.tableHead[o].code,i.label=l.tableHead[o].label);l.configHeader.push(i)}0==a.selectionReal.length&&(a.selectionReal=new Array(Math.ceil(a.TotalResult/e))),a.$nextTick(function(){a.multipleSelection=[];for(var t=0;t<a.tableData.length;t++)for(var e=0;e<a.selectionAll.length;e++)a.chargeObjectEqual(a.tableData[t],a.selectionAll[e])&&a.$refs.multipleTable.toggleRowSelection(a.tableData[t],!0)})}else{a.falg=!1;var c=a.Global.aport5+"/nanMinController/getCount";a.$api.post(c,n,function(t){t.success&&(a.tableData=t.data.resultList,a.TotalResult=t.data.totalAllResult,0==a.selectionReal.length&&(a.selectionReal=new Array(Math.ceil(a.TotalResult/e))),a.$nextTick(function(){a.multipleSelection=[];for(var t=0;t<a.tableData.length;t++)for(var e=0;e<a.selectionAll.length;e++)a.tableData[t].RGUID==a.selectionAll[e].RGUID&&a.$refs.multipleTable.toggleRowSelection(a.tableData[t],!0)}))})}})},getInfo:function(t){switch(t){case"count_DESC":return"分析结果";case"GJDQ_DESC":return"国家地区";case"RS":return"户室人数";case"SFDM_DESC":return"身份类型";case"XBDM_DESC":return"性别"}}}},s={render:function(){var t=this,e=t.$createElement,l=t._self._c||e;return l("div",{staticClass:"yymain tshu"},[l("div",{staticClass:"yytitle"},[l("el-row",{attrs:{type:"flex"}},[l("el-col",{staticClass:"br pr-20",attrs:{span:22}},[l("el-row",{attrs:{align:"center",gutter:2}},[l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("国家地区：")]),t._v(" "),l("el-select",{staticClass:"input-input",attrs:{filterable:"",clearable:"","default-first-option":"",placeholder:"请选择",size:"small"},model:{value:t.pd.GJDQDM,callback:function(e){t.$set(t.pd,"GJDQDM",e)},expression:"pd.GJDQDM"}},t._l(t.$store.state.gjdq,function(t){return l("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("案卷编号：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.AJBH,callback:function(e){t.$set(t.pd,"AJBH",e)},expression:"pd.AJBH"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("户室人数：")]),t._v(" "),l("el-input-number",{staticClass:"input-input",attrs:{min:0,max:100,size:"small",label:"描述文字"},on:{change:t.handleChange},model:{value:t.rs,callback:function(e){t.rs=e},expression:"rs"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("姓名：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.XM,callback:function(e){t.$set(t.pd,"XM",e)},expression:"pd.XM"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("性别：")]),t._v(" "),l("el-select",{staticClass:"input-input",attrs:{placeholder:"请选择",filterable:"",clearable:"","default-first-option":"",size:"small"},model:{value:t.pd.XBDM,callback:function(e){t.$set(t.pd,"XBDM",e)},expression:"pd.XBDM"}},t._l(t.$store.state.xb,function(t){return l("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("出生日期：")]),t._v(" "),l("div",{staticClass:"input-input t-flex t-date"},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"开始时间"},model:{value:t.pd0.beginCS,callback:function(e){t.$set(t.pd0,"beginCS",e)},expression:"pd0.beginCS"}}),t._v(" "),l("span",{staticClass:"septum"},[t._v("-")]),t._v(" "),l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"结束时间"},model:{value:t.pd0.endCS,callback:function(e){t.$set(t.pd0,"endCS",e)},expression:"pd0.endCS"}})],1)]),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("身份类型：")]),t._v(" "),l("el-select",{staticClass:"input-input",attrs:{placeholder:"请选择",filterable:"",clearable:"","default-first-option":"",size:"small"},model:{value:t.pd.SFDM,callback:function(e){t.$set(t.pd,"SFDM",e)},expression:"pd.SFDM"}},t._l(t.$store.state.sflx,function(t){return l("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("护照号码：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.HZHM,callback:function(e){t.$set(t.pd,"HZHM",e)},expression:"pd.HZHM"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("注册日期：")]),t._v(" "),l("div",{staticClass:"input-input t-flex t-date"},[l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"开始时间"},model:{value:t.pd0.beginZC,callback:function(e){t.$set(t.pd0,"beginZC",e)},expression:"pd0.beginZC"}}),t._v(" "),l("span",{staticClass:"septum"},[t._v("-")]),t._v(" "),l("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyy/MM/dd",placeholder:"结束时间"},model:{value:t.pd0.endZC,callback:function(e){t.$set(t.pd0,"endZC",e)},expression:"pd0.endZC"}})],1)]),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("电话：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.DHHM,callback:function(e){t.$set(t.pd,"DHHM",e)},expression:"pd.DHHM"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("邮箱：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.YXDZ,callback:function(e){t.$set(t.pd,"YXDZ",e)},expression:"pd.YXDZ"}})],1),t._v(" "),l("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[l("span",{staticClass:"input-text"},[t._v("详细地址：")]),t._v(" "),l("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.XXDZ_Like,callback:function(e){t.$set(t.pd,"XXDZ_Like",e)},expression:"pd.XXDZ_Like"}})],1)],1)],1),t._v(" "),l("el-col",{staticClass:"down-btn-area",attrs:{span:2}},[l("el-button",{staticClass:"mb-15",attrs:{type:"success",size:"small"},on:{click:function(e){t.CurrentPage=1,t.getList(t.CurrentPage,t.pageSize,t.pd)}}},[t._v("查询")]),t._v(" "),l("el-button",{staticClass:"t-ml0",attrs:{type:"primary",size:"small"},on:{click:t.download}},[t._v("导出")])],1)],1)],1),t._v(" "),l("div",{staticClass:"yycontent"},[l("div",{staticClass:"yylbt mb-15"},[t._v("统计类别")]),t._v(" "),l("div",{staticClass:"mb-15 t-tjCheck"},[l("el-checkbox-group",{model:{value:t.checkedList,callback:function(e){t.checkedList=e},expression:"checkedList"}},t._l(t.checkItem,function(e){return l("el-checkbox",{key:e.code,attrs:{label:e.code}},[t._v(t._s(e.label))])}),1)],1),t._v(" "),t.falg?l("div",[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{select:t.selectfn}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.configHeader,function(t,e){return l("el-table-column",{key:e,attrs:{prop:t.props,label:t.label}})}),t._v(" "),l("el-table-column",{attrs:{prop:"count_DESC",label:"统计数量"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(l){t.$router.push({name:"NMFX_LIST",query:{row:e.row,queryPd:t.pd}})}}})]}}])})],2)],1):l("div",[l("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{select:t.selectfn}},[l("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),l("el-table-column",{attrs:{prop:"GJDQ_DESC",label:"国家地区"}}),t._v(" "),l("el-table-column",{attrs:{prop:"AJBH",label:"案卷编号"}}),t._v(" "),l("el-table-column",{attrs:{prop:"ZCRQ",label:"注册时间"}}),t._v(" "),l("el-table-column",{attrs:{prop:"XM",label:"姓名"}}),t._v(" "),l("el-table-column",{attrs:{prop:"XBDM_DESC",label:"性别"}}),t._v(" "),l("el-table-column",{attrs:{prop:"HZHM",label:"护照号码"}}),t._v(" "),l("el-table-column",{attrs:{prop:"SFDM_DESC",label:"身份类型"}}),t._v(" "),l("el-table-column",{attrs:{prop:"DHHM",label:"电话号码"}}),t._v(" "),l("el-table-column",{attrs:{prop:"RS",label:"户室人数"}}),t._v(" "),l("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[l("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(l){t.$router.push({name:"NMFX_XQ",query:{row:e.row}})}}})]}}])})],1)],1),t._v(" "),l("div",{staticClass:"middle-foot"},[l("div",{staticClass:"page-msg"},[l("div",{},[t._v("\n            共"+t._s(t.TotalResult)+"条记录\n              ")]),t._v(" "),l("div",{},[t._v("\n                每页显示\n                "),l("el-select",{staticClass:"page-select",attrs:{placeholder:"10",size:"mini"},on:{change:function(e){t.pageSizeChange(t.pageSize)}},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},t._l(t.options,function(t){return l("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n                条\n              ")],1),t._v(" "),l("div",{},[t._v("\n              共"+t._s(Math.ceil(t.TotalResult/t.pageSize))+"页\n              ")])]),t._v(" "),l("el-pagination",{attrs:{background:"","current-page":t.CurrentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.TotalResult},on:{"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.CurrentPage=e}}})],1)])])},staticRenderFns:[]};var i=l("VU/8")(a,s,!1,function(t){l("YHjn"),l("3hdO")},"data-v-3bc33ccc",null);e.default=i.exports},YHjn:function(t,e){}});
//# sourceMappingURL=55.a5ceb38aaa8e87ce0053.js.map
webpackJsonp([43],{"0ng2":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={components:{QZSQ:a("WY/o").a},data:function(){return{radio1:"0",radio2:"0",typet:"1",CurrentPage:1,pageSize:10,TotalResult:0,pd:{QYSJ_DateRange:{begin:"",end:"",dataType:"date"},PFRQ_DateRange:{begin:"",dataType:"date"}},pm:{},imagess:[],imgshow1:!1,imgshow2:!0,shm:!1,lg:!1,type:1,xid:"",random:"",crjDialogVisible:!1,options:[{value:10,label:"10"},{value:20,label:"20"},{value:30,label:"30"}],tableData:[],tableHead:[{code:"YMSQZTDM_DESC",label:"移民申请种类"},{code:"QWGDM_DESC",label:"前往国"},{code:"YMZLDM_DESC",label:"移民种类"}],tableHeadHc:[],tableHeadHs:[],configHeader:[],pd0:{},form:{},falg:!1,disa:!1,czinfo:{},multipleSelection:[],selectionAll:[],yuid:[],selectionReal:[]}},mounted:function(){this.$store.dispatch("getGjdq"),this.$store.dispatch("getXB"),this.$store.dispatch("getYmzt"),this.$store.dispatch("getYmzl"),this.$store.dispatch("getSsdw"),this.$store.dispatch("getZjzl"),this.$store.dispatch("getRjqzzl"),this.$store.dispatch("getRjsy"),this.$store.dispatch("getZsxz"),this.$store.dispatch("getSjly")},watch:{falg:function(t,e){this.multipleSelection=[],this.selectionAll=[],this.selectionReal=[]},tableHeadHc:{handler:function(t,e){t.toString()!=e.toString()&&(this.multipleSelection=[],this.selectionAll=[],this.selectionReal=[])}}},methods:{selectfn:function(t,e){this.multipleSelection=t,this.dataSelection()},dataSelection:function(){console.log("this.multipleSelection",this.multipleSelection),this.selectionReal.splice(this.CurrentPage-1,1,this.multipleSelection),console.log("this.selectionReal",this.selectionReal),this.selectionAll=[];for(var t=0;t<this.selectionReal.length;t++)if(this.selectionReal[t])for(var e=0;e<this.selectionReal[t].length;e++)this.selectionAll.push(this.selectionReal[t][e]);console.log("this.selectionAll",this.selectionAll)},download:function(){var t=this,e={};if(0==this.tableHeadHc.length)if(0==this.selectionAll.length)e={pd:this.pd};else{for(var a in this.yuid=[],this.selectionAll)this.yuid.push(this.selectionAll[a].RGUID);this.pd.RGUID=this.yuid,e={pd:this.pd}}else e=0==this.selectionAll.length?{pd:this.pd,groupList:this.tableHeadHc}:{requestTempList:this.selectionAll,groupList:this.tableHeadHc};this.$api.post(this.Global.aport5+"/esYmController/exportYm",e,function(e){t.downloadM(e)},function(t){},{},"blob")},downloadM:function(t){if(t){var e=window.URL.createObjectURL(new Blob([t],{type:"application/xls"})),a=document.createElement("a");a.style.display="none",a.href=e,a.setAttribute("download","因私出入境中介分析人员列表"+this.format(new Date,"yyyyMMddhhmmss")+".xls"),document.body.appendChild(a),a.click()}},handleSelectionChange:function(t){this.multipleSelection=t},pageSizeChange:function(t){this.getList(this.CurrentPage,t,this.pd),console.log("每页 "+t+" 条")},handleCurrentChange:function(t){this.getList(t,this.pageSize,this.pd),console.log("当前页: "+t)},open:function(t){this.$alert(t,"提示",{confirmButtonText:"确定"})},getList:function(t,e,a){var s=this;void 0!=this.pd.ZWXM||void 0!=this.pd.YWXM||void 0!=this.pd.ZJHM?(this.falg=!1,this.disa=!0):this.disa=!1,this.tableHeadHc=[],this.tableHeadHs=[],1==this.pm.YMSQZTDM&&(this.tableHeadHc.push("YMSQZTDM"),this.tableHeadHs.push("YMSQZTDM_DESC")),1==this.pm.QWGDM&&(this.tableHeadHc.push("QWGDM"),this.tableHeadHs.push("QWGDM_DESC")),1==this.pm.YMZLDM&&(this.tableHeadHc.push("YMZLDM"),this.tableHeadHs.push("YMZLDM_DESC")),a.hasOwnProperty("RGUID")&&delete a.RGUID;var l={currentPage:t,showCount:e,pd:a,groupList:this.tableHeadHc};this.$api.post(this.Global.aport5+"/esYmController/getCount",l,function(t){if(s.tableData=t.data.resultList,s.TotalResult=t.data.totalAllResult,"true"==t.data.isFenLei){s.falg=!0,s.configHeader=[];for(var a=s,i=0;i<a.tableHeadHs.length;i++){for(var n="",o={},c=0;c<a.tableHead.length;c++)a.tableHead[c].code==a.tableHeadHs[i]&&(n=c,o.code=a.tableHead[c].code,o.label=a.tableHead[c].label);a.configHeader.splice(n,0,o)}0==s.selectionReal.length&&(s.selectionReal=new Array(Math.ceil(s.TotalResult/e))),s.$nextTick(function(){s.multipleSelection=[];for(var t=0;t<s.tableData.length;t++)for(var e=0;e<s.selectionAll.length;e++)s.chargeObjectEqual(s.tableData[t],s.selectionAll[e])&&s.$refs.multipleTable.toggleRowSelection(s.tableData[t],!0)})}else{s.falg=!1;var p=s.Global.aport5+"/esYmController/getResultListByParams";s.$api.post(p,l,function(t){t.success&&(s.tableData=t.data.resultList,s.TotalResult=t.data.totalResult,0==s.selectionReal.length&&(s.selectionReal=new Array(Math.ceil(s.TotalResult/e))),s.$nextTick(function(){s.multipleSelection=[];for(var t=0;t<s.tableData.length;t++)for(var e=0;e<s.selectionAll.length;e++)s.tableData[t].RGUID==s.selectionAll[e].RGUID&&s.$refs.multipleTable.toggleRowSelection(s.tableData[t],!0)}))})}})},details:function(t){var e=this,a={pd:{RGUID:t.RGUID}};this.$api.post(this.Global.aport5+"/esYmController/getResultListByParams",a,function(t){t.success&&(t.data.resultList[0]?e.czinfo=t.data.resultList[0]:e.czinfo={},e.crjDialogVisible=!0)})}}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"yymain tshu"},[a("div",{staticClass:"yytitle"},[a("el-row",{attrs:{type:"flex"}},[a("el-col",{staticClass:"br pr-20",attrs:{span:22}},[a("el-row",{attrs:{align:"center",gutter:2}},[a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("移民状态：")]),t._v(" "),a("el-select",{staticClass:"input-input",attrs:{filterable:"",clearable:"","default-first-option":"",placeholder:"请选择",size:"small"},model:{value:t.pd.YXZT,callback:function(e){t.$set(t.pd,"YXZT",e)},expression:"pd.YXZT"}},t._l(t.$store.state.ymzt,function(t){return a("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("前往国：")]),t._v(" "),a("el-select",{staticClass:"input-input",attrs:{multiple:"","collapse-tags":"",filterable:"",clearable:"","default-first-option":"",placeholder:"请选择",size:"small"},model:{value:t.pd.QWGDM,callback:function(e){t.$set(t.pd,"QWGDM",e)},expression:"pd.QWGDM"}},t._l(t.$store.state.gjdq,function(t){return a("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("签约日期：")]),t._v(" "),a("div",{staticClass:"input-input t-flex t-date"},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyyMMdd",placeholder:"开始时间"},model:{value:t.pd.QYSJ_DateRange.begin,callback:function(e){t.$set(t.pd.QYSJ_DateRange,"begin",e)},expression:"pd.QYSJ_DateRange.begin"}}),t._v(" "),a("span",{staticClass:"septum"},[t._v("-")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyyMMdd",placeholder:"结束时间"},model:{value:t.pd.QYSJ_DateRange.end,callback:function(e){t.$set(t.pd.QYSJ_DateRange,"end",e)},expression:"pd.QYSJ_DateRange.end"}})],1)]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("移民种类：")]),t._v(" "),a("el-select",{staticClass:"input-input",attrs:{filterable:"",clearable:"","default-first-option":"",placeholder:"请选择",size:"small"},model:{value:t.pd.YMZLDM,callback:function(e){t.$set(t.pd,"YMZLDM",e)},expression:"pd.YMZLDM"}},t._l(t.$store.state.ymzl,function(t){return a("el-option",{key:t.dm,attrs:{label:t.dm+" - "+t.mc,value:t.dm}})}),1)],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("单位名称：")]),t._v(" "),a("el-input",{staticClass:"input-input",attrs:{placeholder:"请输入内容",size:"small"},model:{value:t.pd.DWMC,callback:function(e){t.$set(t.pd,"DWMC",e)},expression:"pd.DWMC"}})],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text"},[t._v("批复日期：")]),t._v(" "),a("div",{staticClass:"input-input t-flex t-date"},[a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyyMMdd",placeholder:"开始时间"},model:{value:t.pd.PFRQ_DateRange.begin,callback:function(e){t.$set(t.pd.PFRQ_DateRange,"begin",e)},expression:"pd.PFRQ_DateRange.begin"}}),t._v(" "),a("span",{staticClass:"septum"},[t._v("-")]),t._v(" "),a("el-date-picker",{attrs:{format:"yyyy-MM-dd",type:"date",size:"small","value-format":"yyyyMMdd",placeholder:"结束时间"},model:{value:t.pd.PFRQ_DateRange.end,callback:function(e){t.$set(t.pd.PFRQ_DateRange,"end",e)},expression:"pd.PFRQ_DateRange.end"}})],1)])],1)],1),t._v(" "),a("el-col",{staticClass:"down-btn-area",attrs:{span:2}},[a("el-button",{staticClass:"mb-10",attrs:{type:"success",size:"small"},on:{click:function(e){t.CurrentPage=1,t.getList(t.CurrentPage,t.pageSize,t.pd)}}},[t._v("查询")]),t._v(" "),a("el-button",{attrs:{type:"primary",size:"small"},on:{click:t.download}},[t._v("导出")])],1)],1)],1),t._v(" "),a("div",{staticClass:"yycontent"},[a("div",{staticClass:"yylbt mb-15"},[t._v("统计类别")]),t._v(" "),a("div",{staticClass:"mb-15"},[a("el-checkbox",{attrs:{label:"移民申请种类",disabled:t.disa},model:{value:t.pm.YMSQZTDM,callback:function(e){t.$set(t.pm,"YMSQZTDM",e)},expression:"pm.YMSQZTDM"}}),t._v(" "),a("el-checkbox",{attrs:{label:"前往国",disabled:t.disa},model:{value:t.pm.QWGDM,callback:function(e){t.$set(t.pm,"QWGDM",e)},expression:"pm.QWGDM"}}),t._v(" "),a("el-checkbox",{attrs:{label:"移民种类",disabled:t.disa},model:{value:t.pm.YMZLDM,callback:function(e){t.$set(t.pm,"YMZLDM",e)},expression:"pm.YMZLDM"}})],1),t._v(" "),t.falg?a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{select:t.selectfn}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),t._l(t.configHeader,function(t,e){return a("el-table-column",{key:e,attrs:{prop:t.code,label:t.label}})}),t._v(" "),a("el-table-column",{attrs:{prop:"count_DESC",label:"统计数量"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(a){t.$router.push({name:"CRJRYXX",query:{row:e.row,queryPd:t.pd}})}}})]}}])})],2),t._v(" "),a("div",{staticClass:"middle-foot"},[a("div",{staticClass:"page-msg"},[a("div",{},[t._v("\n          共"+t._s(t.TotalResult)+"条记录\n            ")]),t._v(" "),a("div",{},[t._v("\n              每页显示\n              "),a("el-select",{staticClass:"page-select",attrs:{placeholder:"10",size:"mini"},on:{change:function(e){t.pageSizeChange(t.pageSize)}},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n              条\n            ")],1),t._v(" "),a("div",{},[t._v("\n            共"+t._s(Math.ceil(t.TotalResult/t.pageSize))+"页\n            ")])]),t._v(" "),a("el-pagination",{attrs:{background:"","current-page:sync":t.CurrentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.TotalResult},on:{"current-change":t.handleCurrentChange}})],1)],1):a("div",[a("el-table",{ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,border:""},on:{select:t.selectfn}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"XM",label:"姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"YMZLMC",label:"移民种类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"QYSJ",label:"签约时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"SFZH",label:"身份证号"}}),t._v(" "),a("el-table-column",{attrs:{prop:"YMSQZLMC",label:"移民申请种类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"QWGMC",label:"前往国"}}),t._v(" "),a("el-table-column",{attrs:{prop:"DWMC",label:"单位名称"}}),t._v(" "),a("el-table-column",{attrs:{prop:"PFRQ",label:"批复时间"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"70"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"a-btn",attrs:{type:"text",title:"详情",icon:"el-icon-document"},on:{click:function(a){t.details(e.row)}}})]}}])})],1),t._v(" "),a("div",{staticClass:"middle-foot"},[a("div",{staticClass:"page-msg"},[a("div",{},[t._v("\n        共"+t._s(t.TotalResult)+"条记录\n          ")]),t._v(" "),a("div",{},[t._v("\n            每页显示\n            "),a("el-select",{staticClass:"page-select",attrs:{placeholder:"10",size:"mini"},on:{change:function(e){t.pageSizeChange(t.pageSize)}},model:{value:t.pageSize,callback:function(e){t.pageSize=e},expression:"pageSize"}},t._l(t.options,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}),1),t._v("\n            条\n          ")],1),t._v(" "),a("div",{},[t._v("\n          共"+t._s(Math.ceil(t.TotalResult/t.pageSize))+"页\n          ")])]),t._v(" "),a("el-pagination",{attrs:{background:"","current-page:sync":t.CurrentPage,"page-size":t.pageSize,layout:"prev, pager, next",total:t.TotalResult},on:{"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),a("div",{staticClass:"bj"},[a("el-dialog",{attrs:{title:"代办签证信息详情",visible:t.crjDialogVisible,"custom-class":"big_dialog","append-to-body":!1,modal:!1},on:{"update:visible":function(e){t.crjDialogVisible=e}}},[a("el-row",{staticClass:"mb-6",attrs:{gutter:3}},[a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("姓名：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.XM))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("身份证号：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.SFZH))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("移民签证种类名称：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.YMQZZLMC))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("前往国名称：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.QWGMC))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("移民种类名称：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.QWGMC))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("单位名称：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.DWMC))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("移民状态：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.YXZT))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("同行人姓名：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.TXRXM))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("填表时间：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.TBSJ))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("签约时间：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v(" "+t._s(t.czinfo.QYSJ))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("批复时间：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.PFRQ))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("操作人：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.CZR))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("操作时间：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.CZSJ))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("修改人：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v("  "+t._s(t.czinfo.XGR))])]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{span:8}},[a("span",{staticClass:"input-text"},[t._v("修改时间：")]),t._v(" "),a("span",{staticClass:"input-input detailinput"},[t._v(" "+t._s(t.czinfo.XGSJ))])])],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{size:"small"},on:{click:function(e){t.crjDialogVisible=!1}}},[t._v("取 消")])],1)],1)],1)])},staticRenderFns:[]};var i=a("VU/8")(s,l,!1,function(t){a("1T0k"),a("MAdy")},"data-v-5ea9d754",null);e.default=i.exports},"1T0k":function(t,e){},MAdy:function(t,e){}});
//# sourceMappingURL=43.48b4fc4e347d4793df67.js.map
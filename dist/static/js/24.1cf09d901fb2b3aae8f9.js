webpackJsonp([24],{"5opX":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("bOdI"),l=a.n(s),i={data:function(){var t;return t={gjshow:!1,queryTerm:"1",checkItem2:[{LABEL:"中文姓名",ITEMNAME:"zwxm"},{LABEL:"英文姓名",ITEMNAME:"ywxm"},{LABEL:"性别",ITEMNAME:"xb"},{LABEL:"国家地区",ITEMNAME:"gjdq"},{LABEL:"出生日期",ITEMNAME:"csrq"}],checkList2:["zwxm","ywxm","xb","csrq"],checkItem1:[{LABEL:"证件号码",ITEMNAME:"zjhm",disabled:!0},{LABEL:"证件种类",ITEMNAME:"zjzl",disabled:!0},{LABEL:"国家地区",ITEMNAME:"gjdq",disabled:!1}],checkList1:["zjhm","zjzl","gjdq"],fileData:null,tableData:[],isShow:!1,listDialogVisible:!1,tableDataDetail:[],CurrentPage:1,pageSize:10,TotalResult:0,pd:{},nation:[],checkList:[],fileList:[],actions:"",zwshow:!0,ywshow:!0},l()(t,"gjshow",!0),l()(t,"zjshow",!0),l()(t,"xbshow",!0),l()(t,"uploadDialogVisible",!1),l()(t,"editform",{}),l()(t,"uploadIconData",{}),l()(t,"mapForm",{}),l()(t,"options",this.pl.options),t},mounted:function(){this.$store.dispatch("getGjdq"),this.$store.dispatch("getXB")},methods:{uploadFile:function(t){this.fileData=t.target.files},upload:function(){for(var t=this,e=new FormData,a=this.fileData,s=0;s<a.length;s++)e.append("file",a[s]);"1"==this.queryTerm?e.append("type",this.checkList1):"2"==this.queryTerm&&e.append("type",this.checkList2);var l=e;console.log("formData",e),this.$api.post(this.Global.aport2+"/ryhxhx/gettjxx",l,function(e){e.success?(t.tableDataDetail=e.data,t.isShow=!0):t.$confirm("上传文件存在错误信息, 是否导出错误信息?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.$api.post(t.Global.aport2+"/ryhxhx/geterrdata",l,function(e){t.downloadM(e,"错误信息")},function(t){},{},"blob")}).catch(function(){t.$message({type:"info",message:"已取消导出"})})},function(t){},{"Content-Type":"multipart/form-data"})},downloadM:function(t,e){if(t){var a=window.URL.createObjectURL(new Blob([t],{type:"application/xls"})),s=document.createElement("a");s.style.display="none",s.href=a,s.setAttribute("download",e+this.format(new Date,"yyyyMMddhhmmss")+".xls"),document.body.appendChild(s),s.click()}},getList:function(){null!=this.fileData?this.upload():this.$message({message:"上传文件不能为空！",type:"warning"})},moreFn:function(t){this.$router.push({name:"RYHX_XQ",query:{zjhm:t.zjhm,row:t,gjdq:t.gjdq}}),this.listDialogVisible=!1},optionChange:function(){this.isShow=!1,this.checkList1=["zjhm","zjzl","gjdq"],this.checkList2=["zwxm","ywxm","xb","csrq"]},download:function(){"1"==this.queryTerm?window.location.href=window.IPConfig.IP+"/"+this.Global.aport3+"/webapp/templateFile/人员画像证件号码证件种类查询模板.xls":"2"==this.queryTerm&&(window.location.href=window.IPConfig.IP+"/"+this.Global.aport3+"/webapp/templateFile/人员画像姓名性别查询模板.xls")}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"yymain"},[a("div",{staticClass:"yycontent"},[t.gjshow?a("div",{staticClass:"tjsy"},[a("el-row",{staticClass:"t-choose",attrs:{gutter:10}},[a("el-col",{staticClass:"input-item t-tjsr",attrs:{sm:24,md:12,lg:8}},[a("span",{staticClass:"input-text t-tj"},[t._v("选择组合查询条件：")]),t._v(" "),a("el-select",{staticClass:"input-input t-sr",attrs:{placeholder:"请选择",filterable:"",clearable:"","default-first-option":"",size:"small"},on:{change:t.optionChange},model:{value:t.queryTerm,callback:function(e){t.queryTerm=e},expression:"queryTerm"}},[a("el-option",{attrs:{value:"1",label:"证件号码+证件种类+国籍"}}),t._v(" "),a("el-option",{attrs:{value:"2",label:"姓名+性别+出生日期+国籍"}})],1)],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:2}},[a("el-button",{attrs:{type:"success",size:"small"},on:{click:t.download}},[t._v("下载模板")])],1),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:8}},[a("label",{staticClass:"file"},[t._v("\n              上传文件\n              "),a("input",{attrs:{type:"file",name:""},on:{change:t.uploadFile}})]),t._v(" "),a("div",{staticClass:"t-input input-input"},t._l(t.fileData,function(e,s){return a("div",{key:s,staticClass:"t-input-content"},[a("span",{staticClass:"mr-30",staticStyle:{color:"#606266","font-size":"15px"}},[t._v(t._s(e.name))])])}),0)]),t._v(" "),a("el-col",{staticClass:"input-item",attrs:{sm:24,md:12,lg:2}},[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(e){t.getList()}}},[t._v("  查询  ")])],1)],1),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],staticClass:"t-ak-tab-pane"},["1"==t.queryTerm?a("div",{staticClass:"t-pad"},[a("el-checkbox-group",{staticClass:"o-checkbox-g",model:{value:t.checkList1,callback:function(e){t.checkList1=e},expression:"checkList1"}},t._l(t.checkItem1,function(e){return a("el-checkbox",{key:e.ITEMNAME,attrs:{label:e.ITEMNAME,disabled:e.disabled}},[t._v(t._s(e.LABEL))])}),1)],1):t._e(),t._v(" "),"2"==t.queryTerm?a("div",{staticClass:"t-pad"},[a("el-checkbox-group",{staticClass:"o-checkbox-g",model:{value:t.checkList2,callback:function(e){t.checkList2=e},expression:"checkList2"}},t._l(t.checkItem2,function(e){return a("el-checkbox",{key:e.ITEMNAME,attrs:{label:e.ITEMNAME}},[t._v(t._s(e.LABEL))])}),1)],1):t._e()])],1):t._e()]),t._v(" "),t.isShow?a("div",{staticClass:"yycontent"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableDataDetail,border:""}},[a("el-table-column",{attrs:{prop:"zwxm",label:"中文姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"ywxm",label:"英文姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"xb_desc",label:"性别"}}),t._v(" "),a("el-table-column",{attrs:{prop:"csrq",label:"出生日期"}}),t._v(" "),a("el-table-column",{attrs:{prop:"gjdq_desc",label:"国家地区"}}),t._v(" "),a("el-table-column",{attrs:{prop:"zjzl_desc",label:"证件种类"}}),t._v(" "),a("el-table-column",{attrs:{prop:"zjhm",label:"证件号码"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{staticClass:"tc-b hand",on:{click:function(a){t.moreFn(e.row)}}},[t._v(t._s(e.row.zjhm))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"zjyxq",label:"证件有效期"}})],1)],1):t._e(),t._v(" "),a("el-dialog",{attrs:{title:"列表",visible:t.listDialogVisible,width:"900px"},on:{"update:visible":function(e){t.listDialogVisible=e}}})],1)},staticRenderFns:[]};var n=a("VU/8")(i,o,!1,function(t){a("UIa/"),a("9mc8")},"data-v-c679e8b4",null);e.default=n.exports},"9mc8":function(t,e){},"UIa/":function(t,e){}});
//# sourceMappingURL=24.1cf09d901fb2b3aae8f9.js.map
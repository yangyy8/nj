{"version":3,"sources":["webpack:///./src/assets/js/SuperMap/ffjymap.js","webpack:///src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue","webpack:///./src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue?47e7","webpack:///./src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue"],"names":["map","markerLayer","markerLayer1","sdas","sdanum","getXXDZInfo","id","arr","mc","dm","push","length","window","ffvm","getXXDZ","data","i","mapSqlSearch","features","j","renderMarkerbzh","geometry","coordinates","reverse","count","getXY2","datae","ids","num","undefined","ycoord","xcoord","das","point","xmc","x1","y1","gg","x2","y2","polyLine","L","polyline","distanceMeasureParam","SuperMap","MeasureParameters","supermap","measureService","measureDistance","serviceResult","gl","parseInt","result","distance","jlsz","redergls","myIcon","divIcon","html","className","iconSize","tempMarker","marker","icon","pcsdm","pcsmc","addLayer","on","e","layer","bindPopup","options","openPopup","closePopup","getRyxx","renderMarkercontent","tableName","attributeFilter","from","to","callback","sqlParam","GetFeaturesBySQLParameters","queryParameter","name","datasetNames","fromIndex","toIndex","featureService","getFeaturesBySQL","CQQZFFJYYJ","CurrentPage","pageSize","TotalResult","pd","swdw","show","bzhshow","lgshow","pcs","xzqh","tableData","datastr","bzhDialogVisible","diatext","bzhid","lrdw","iid","xydata","cuint","mounted","_L$map","this","crs","CRS","EPSG4326","preferCanvas","center","maxZoom","zoom","defineProperty_default","wmtsLayer","style","tilematrixSet","format","transparent","addTo","featureGroup","getGX","methods","pageSizeChange","val","console","log","handleCurrentChange","changtab","changeTSY","t","getPcs","_this2","url","Global","aport1","$api","get","r","Object","ToArray","getXzqh","_this3","doset","$set","_this4","getInfo","clearLayers","getxxinfo","dzdm","DZXQ","getXY","tmmc","src_addr","tm","createDWMap","$message","error","p","xxbh","aport","post","success","getXY1","_this","nextfun","dz","promise_default","a","resolve","reject","xyaddress","obj","zb","srr","xxdm","xxmc","sf","currentPage","showCount","_this5","xxdz","fwcs","resultList","totalResult","gotos","zjhms","gjdq","routeData","$router","path","query","zjhm","open","href","ASJYJ_CQQZFFJYYJ","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","_v","staticStyle","border-radius","border-width","size","type","click","$event","gutter","span","width","controls-position","min","max","model","value","$$v","expression","font-size","color","max-height","overflow-y","_l","item","jgid","_s","_e","title","visible","update:visible","label","scopedSlots","_u","key","fn","scope","row","placement","trigger","max-width","src","zp","slot","alt","height","prop","cursor","gjdqdm","background","current-page","page-size","layout","total","current-change","update:currentPage","__webpack_require__","border","left","top","border-bottom-width","border-right-width","right","border-left-width","bottom","border-top-width","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/31.b20073f88d52f69bde44.js","sourcesContent":["var map;\r\nvar markerLayer;\r\nvar markerLayer1;\r\nvar layerGroup;\r\nvar MAP_SIZE = [11, 15];\r\nvar SEARCH_HEIGHT = 100;\r\nvar esservice;\r\nvar resultLayer;\r\nvar sdas=[];\r\nvar sdanum=0;\r\n//地图加载\r\nexport function createMapL() {\r\n  map = L.map('mainMap', {\r\n    crs: L.CRS.EPSG4326,\r\n    preferCanvas: true,\r\n    center: [32.03613281, 118.78211975],\r\n    maxZoom: 18,\r\n    zoom: 10,\r\n    maxZoom: 16,\r\n    zoomControl: false,\r\n    attributionControl: false,\r\n    closePopupOnClick: false //点击地图不关闭popup框\r\n  });\r\n  L.supermap.wmtsLayer(\"http://10.33.66.183:2333/iserver/services/map-wmts-GADT/wmts-china\", {\r\n    layer: \"GADT\",\r\n    style: \"default\",\r\n    tilematrixSet: \"ChinaPublicServices_GADT\",\r\n    format: \"image/png\",\r\n    transparent: true\r\n  }).addTo(map);\r\n  markerLayer = L.featureGroup().addTo(map);\r\n  markerLayer1 = L.featureGroup().addTo(map);\r\n  //esservice = new SuperMap.ElasticSearch(\"http://10.33.69.24:9200/\");\r\n\r\n  //var url = \"http://10.33.66.183:8090/iserver/services/map-ugcv5-njcaihuimapsymbol/rest/maps/nj_caihui@mapsymbol\";\r\n  //加载图层\r\n  //L.supermap.tiledMapLayer(url).addTo(map);\r\n}\r\n\r\n\r\n// 左边列表点击\r\nexport function createDWMap(id, mc) {\r\n\r\n  //map.zoomTo(14);\r\n  markerLayer.clearLayers();\r\n  markerLayer1.clearLayers();\r\n  //\tmapSqlSearch(\"DH_PT学校\", \"ID='\" + id + \"'\", 0, 5,0, function(features) {\r\n  var see = window.ffvm.getxxinfo(id, function(data) {\r\n\r\n    if (data.length > 0) {\r\n      sdas=[];\r\n      sdanum=data.length;\r\n      for (var i = 0; i < data.length; i++) {\r\n        var dzdm = data[i].DZXQ;\r\n\r\n        // mapSqlSearch(\"dz_mlp\", \"DZMC='\" + dzdm + \"'\", dzdm, 0, 5, function(features, dm) {\r\n        //   if (features.length > 0) {\r\n        //     var x = features[0].properties.SMX;\r\n        //     var y = features[0].properties.SMY;\r\n        //\r\n        //     var tmmc = \"<div style='line-height:25px;'>学校：\" + mc + \" <br/>地址：\" + dm + \"</div>\";\r\n        //     var tm = L.marker([y, x]).bindPopup(tmmc);\r\n        //\r\n        //     markerLayer1.addLayer(tm);\r\n        //     // tm.openPopup();\r\n        //     // map.flyTo(L.latLng(y, x), 12);\r\n        //\r\n        //     arr.push(y);\r\n        //     arr.push(x);\r\n        //\r\n        //     //getXXDZInfo(id, arr, mc, dm);\r\n        //     // getStudents(id, parseFloat(x), parseFloat(y));\r\n        //   } else {\r\n\r\n            var ss = window.ffvm.getXY(dzdm, function(datae) {\r\n\r\n              var arr = [];\r\n              if (datae != undefined && datae.ycoord > 0 && datae.xcoord > 0) {\r\n                arr.push(datae.ycoord+'');\r\n                arr.push(datae.xcoord+'');\r\n\r\n                var tmmc = \"<div style='line-height:25px;'>学校：\" + mc + \" <br/>地址：\" + datae.src_addr + \"</div>\";\r\n\r\n                var tm = L.marker([arr[0], arr[1]]).bindPopup(tmmc);\r\n                markerLayer1.addLayer(tm);\r\n\r\n                getXXDZInfo(id, arr, mc, datae.src_addr);\r\n              }\r\n            });\r\n\r\n        //   }\r\n        // });\r\n      }\r\n    }\r\n  });\r\n\r\n}\r\n\r\nfunction getXXDZInfo(id, arr, mc, dm) {\r\nsdas.push(arr);\r\n// console.log(sdas.length,sdas.length==sdanum);\r\nif(sdas.length==sdanum){\r\n\r\n  var relt = window.ffvm.getXXDZ(id, function(data) {\r\n    for (var i = 0; i < data.length; i++) {\r\n      //var num = data[i].count;\r\n      // var id = data[i].dm;\r\n      mapSqlSearch(\"dz_mlp\", \"DZMC='\" + id + \"'\", data[i], 0, 5, function(features, data) {\r\n\r\n        if (features.length > 0) {\r\n          for (var j = 0; j < features.length; j++) {\r\n            //  var mc=features[j].properties.DZMC;\r\n            renderMarkerbzh(features[j].geometry.coordinates.reverse(), data.dm, data.dm, arr, data.count, mc);\r\n          }\r\n        } else {\r\n          var ss = window.ffvm.getXY2(data, function(datae, ids, num) {\r\n\r\n            if (datae != undefined && datae.ycoord > 0 && datae.xcoord > 0) {\r\n              var das = [];\r\n              das.push(datae.ycoord);\r\n              das.push(datae.xcoord);\r\n\r\n              renderMarkerbzh(das, ids, ids, sdas, num, mc);\r\n            }\r\n\r\n          });\r\n        }\r\n      });\r\n    }\r\n  });\r\n}else {\r\n\r\n}\r\n\r\n}\r\n\r\nexport function renderMarkerbzh(point, dm, mc, sdas, num, xmc) {\r\n\r\n  measureDistance(point[0], point[1], sdas, dm, mc, num, xmc);\r\n  //debugger;\r\n  // 画圆\r\n  // var myIcon = L.divIcon({\r\n  //   html: \"<div style='line-height:40px;text-align:center;font-weight:bold'>\" + data.count + \"</div>\",\r\n  //   className: 'my-div-icon lz',\r\n  //   iconSize: 50\r\n  // });\r\n  // var tempMarker = L.marker(point, {\r\n  //   icon: myIcon,\r\n  //   pcsdm: data.dm,\r\n  //   pcsmc: mc,\r\n  //   num: data.count\r\n  // });\r\n  // markerLayer.addLayer(tempMarker);\r\n  //\r\n  // markerLayer.on(\"mousemove\", function(e) {\r\n  //   e.layer.bindPopup(\"<div style='font-weight:bold; font-size: 13px; padding-bottom:5px'>\" + e.layer.options.pcsmc + \"</div><div>\" + \"总人数：\" + e.layer.options.num + \"</div>\").openPopup();\r\n  // });\r\n  // markerLayer.on(\"mouseout\", function(e) {\r\n  //   e.layer.closePopup();\r\n  // });\r\n  //\r\n  // tempMarker.on('click', function(e) {\r\n  //   // alert(e.target.options.pcsmc);\r\n  //  //  requestTableData(e.target.options.pcsdm, 1);\r\n  //  //从库里得到派出所数据\r\n  //\r\n  // //  window.vm.getRyxx(1,5,data.dm,mc,'');\r\n  //\r\n  // });\r\n}\r\n\r\nfunction measureDistance(x1, y1, sdas, dm, mc, num, xmc) {\r\n var gg=0; var ii=0;\r\nfor (var i = 0; i < sdas.length; i++) {\r\n    var x2=sdas[i][0];\r\n    var y2=sdas[i][1];\r\nii=i+1;\r\n  var polyLine = L.polyline([\r\n    [x1, y1],\r\n    [x2, y2]\r\n  ]);\r\n\r\n  // var marker1 = L.marker([x1, y1]),\r\n  //     marker2 = L.marker([x2, y2]);\r\n  // var tmmc = \"<div style='line-height:25px;'>学校：\" + xmc +\" <br/>地址：\" + xdm + \"</div>\";\r\n  // var tm = marker2.bindPopup(tmmc);\r\n  // markerLayer.addLayer(tm);\r\n  var distanceMeasureParam = new SuperMap.MeasureParameters(polyLine);\r\n  L.supermap\r\n    .measureService(\"http://10.33.66.183:2334/iserver/services/map-world/rest/maps/World\")\r\n    .measureDistance(distanceMeasureParam, function(serviceResult) {\r\n      var gl = parseInt(serviceResult.result.distance / 1000);\r\n      if (gl > window.ffvm.jlsz) {\r\n        //markerLayer1.addLayer(polyLine);\r\n        gg=gg+1;\r\n\r\n        if(gg==sdas.length){\r\n          // console.log(gg,sdas.length,gl);\r\n          redergls([x1, y1], num, dm, xmc,mc,gl);\r\n        }\r\n\r\n\r\n        // markerLayer.addLayer(marker1);\r\n        // marker1.bindPopup(content).openPopup(marker1.getLatLng());\r\n        // marker1.on(\"mousemove\", function(e) {\r\n        //   marker1.bindPopup(content).openPopup(marker1.getLatLng());\r\n        // });\r\n        // marker1.on('click', function(e) {\r\n        //   window.ffvm.getRyxx(1, 5, dm, mc, '');\r\n        // });\r\n\r\n      } else {\r\n        return;\r\n      }\r\n\r\n    });\r\n  }\r\n}\r\n\r\nfunction redergls(arr,num,dm,xmc,mc,gl) {\r\n\r\n  var content = \"<div style='line-height:25px;'>距离<font color=blue>\" + xmc + \"</font>： 大约 <font style='color:red;font-weight:bold;font-size:16px;'>\" + gl + \"</font>  公里<br/>\" + mc + \" <br/>总人数：\" + num + \"</div>\";\r\n  renderMarkercontent(arr, num, dm, content);\r\n}\r\n\r\nexport function renderMarkercontent(point, num, dm, mc) {\r\n\r\n  // 画圆\r\n  var myIcon = L.divIcon({\r\n    html: \"<div style='line-height:38px;text-align:center;'>\" + num + \"</div>\",\r\n    className: 'my-div-icon cqred',\r\n    iconSize: 50\r\n  });\r\n\r\n  var tempMarker = L.marker(point, {\r\n    icon: myIcon,\r\n    pcsdm: dm,\r\n    pcsmc: mc,\r\n    num: num\r\n  });\r\n  markerLayer.addLayer(tempMarker);\r\n\r\n  markerLayer.on(\"mousemove\", function(e) {\r\n    e.layer.bindPopup(\"<div style=''>\" + e.layer.options.pcsmc + \"</div>\").openPopup();\r\n  });\r\n  markerLayer.on(\"mouseout\", function(e) {\r\n    e.layer.closePopup();\r\n  });\r\n  tempMarker.on('click', function(e) {\r\n    // alert(e.target.options.pcsmc);\r\n    //  requestTableData(e.target.options.pcsdm, 1);\r\n    //从库里得到派出所数据\r\n\r\n    window.ffvm.getRyxx(1, 5, dm, dm);\r\n\r\n  });\r\n}\r\n\r\n//dz_mlpxx_3201_pt\tDH_PT学校\r\nexport function mapSqlSearch(tableName, attributeFilter, dm, from, to, callback) {\r\n  //向服务器发送请求，并对返回的结果进行处理\r\n  var sqlParam = new SuperMap.GetFeaturesBySQLParameters({\r\n    queryParameter: {\r\n      name: tableName + \"@ORCL_gt8\",\r\n      attributeFilter: attributeFilter\r\n    },\r\n    datasetNames: [\"ORCL_gt8:\" + tableName], //数据集名称\r\n    fromIndex: 0,\r\n    toIndex: 10\r\n  });\r\n\r\n  L.supermap.featureService(\"http://10.33.66.183:2333/iserver/services/data-gt8/rest/data\").getFeaturesBySQL(sqlParam, function(serviceResult) {\r\n    var features = serviceResult.result.features.features;\r\n    callback && callback(features, dm);\r\n  });\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/assets/js/SuperMap/ffjymap.js","<template lang=\"html\">\r\n    <!-- 持长期签证非法就业预警(留学生非法预警) -->\r\n      <div class=\"yymain \">\r\n        <!-- 地图 -->\r\n\r\n        <div id=\"mainMap\" class=\"mapbj lzxx\"></div>\r\n\r\n        <!-- 查询导航 -->\r\n        <div class=\"fxleft\">\r\n             <div class=\"fxbnt\">\r\n               <el-button  size=\"mini\" type=\"primary\" @click=\"changtab()\" v-if=\"show\" icon=\"iconfont el-icon-yy-xiangshangjiantou\" style=\"border-radius:0px!important;border-width: 1px 1px 0px 1px\"></el-button>\r\n               <el-button  size=\"mini\" type=\"primary\" @click=\"changtab()\" v-else icon=\"iconfont el-icon-yy-xiangxiajiantou\" style=\"border-radius:0px!important;\"></el-button>\r\n             </div>\r\n             <el-collapse-transition>\r\n             <div class=\"fxcont\" v-if=\"show\">\r\n                <el-row :gutter=\"1\">\r\n                  <el-col  :span=\"24\">\r\n                     <span class=\"input-text\" style=\"width:25%!important;\">距离设置：</span>\r\n                     <el-input-number v-model=\"jlsz\" controls-position=\"right\" size=\"mini\" :min=\"5\" :max=\"10\"></el-input-number>\r\n                     <span style=\"font-size:12px;\">公里</span>\r\n                  </el-col>\r\n                  <el-col :span=\"24\">\r\n                    <span style=\"font-size:12px; color:red\">* 距离设置区间5-10</span>\r\n                  </el-col>\r\n                </el-row>\r\n                <div class=\"resultpaneltitle\">南京高校列表</div>\r\n                <div  style=\"max-height:500px;  overflow-y: scroll;\">\r\n                <div id=\"resultpanel\" v-for=\"item in datastr\">\r\n                    <div class=\"fflist\" @click=\"getInfo(item.jgid,item.mc)\">\r\n                      {{item.mc}}\r\n                     </div>\r\n                </div>\r\n              </div>\r\n             </div>\r\n            </el-collapse-transition>\r\n        </div>\r\n\r\n\r\n        <div class=\"bghome\">\r\n          <el-dialog :title=\"diatext\" :visible.sync=\"bzhDialogVisible\">\r\n            <el-table\r\n                 :data=\"tableData\"\r\n                 style=\"width: 100%\"\r\n                 >\r\n                 <el-table-column\r\n                   label=\"照片\">\r\n                   <template slot-scope=\"scope\">\r\n                     <div v-if=\"scope.row.zp\">\r\n                      <el-popover placement=\"right\" title=\"\" trigger=\"hover\">\r\n                        <img :src=\"scope.row.zp\" style=\"max-width:700px; max-height:700px;\"/>\r\n                        <img slot=\"reference\" :src=\"scope.row.zp\" :alt=\"scope.row.zp\"  width=\"50\" height=\"50\">\r\n                      </el-popover>\r\n                     </div>\r\n                   </template>\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"sf\"\r\n                   label=\"身份\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"fwcs\"\r\n                   label=\"服务处所\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"ywxm\"\r\n                   label=\"英文姓名\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"zwxm\"\r\n                   label=\"中文姓名\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"xb\"\r\n                   label=\"性别\" width=\"60\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"csrq\"\r\n                   label=\"出生日期\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"djrq\"\r\n                   label=\"登记日期\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"gjdq\"\r\n                   label=\"国家地区\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"zjzl\"\r\n                   label=\"证件种类\">\r\n                 </el-table-column>\r\n                 <el-table-column\r\n                   prop=\"zjhm\"\r\n                   label=\"证件号码\">\r\n                   <template slot-scope=\"scope\">\r\n                    <span style=\"color:yellow;cursor:pointer\" @click=\"gotos(scope.row.zjhm,scope.row.gjdqdm)\">{{scope.row.zjhm}}</span>\r\n                   </template>\r\n                 </el-table-column>\r\n             </el-table>\r\n             <div class=\"middle-foot mt-10\">\r\n                <div class=\"page-msg\">\r\n                  <div class=\"crrcolor\">\r\n                  共{{TotalResult}}条记录\r\n                  </div>\r\n                  <div class=\"crrcolor\">\r\n\r\n                    <!-- 每页显示\r\n                    <el-select v-model=\"pageSize\" @change=\"pageSizeChange(pageSize)\" placeholder=\"10\" size=\"mini\" class=\"page-select\">\r\n                      <el-option\r\n                        v-for=\"item in options\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                      </el-option>\r\n                    </el-select>\r\n                    条 -->\r\n                  </div>\r\n                  <div class=\"crrcolor\">\r\n                    <!-- 共{{Math.ceil(TotalResult/pageSize)}}页 -->\r\n                  </div>\r\n                </div>\r\n                <el-pagination\r\n                background\r\n                  @current-change=\"handleCurrentChange\"\r\n                  :current-page.sync =\"CurrentPage\"\r\n                  :page-size=\"pageSize\"\r\n                  layout=\"prev, pager, next\"\r\n                  :total=\"TotalResult\">\r\n                </el-pagination>\r\n              </div>\r\n            <div slot=\"footer\">\r\n              <img src=\"../../../../assets/img/qx.png\" border=\"0\" @click=\"bzhDialogVisible = false\" style=\"cursor:pointer\" >\r\n            </div>\r\n           <div class=\"arrow_line\" style=\"left:0px;top:0px; border-bottom-width:0;border-right-width:0\"></div>\r\n           <div class=\"arrow_line\" style=\"right:0px;top:0px; border-bottom-width:0;border-left-width:0\"></div>\r\n           <div class=\"arrow_line\" style=\"left:0px;bottom:0px; border-top-width:0;border-right-width:0\"></div>\r\n           <div class=\"arrow_line\" style=\"right:0px;bottom:0px; border-top-width:0;border-left-width:0\"></div>\r\n          </el-dialog>\r\n        </div>\r\n      </div>\r\n</template>\r\n<script scoped>\r\nimport {\r\n  ToArray\r\n} from '@/assets/js/ToArray.js'\r\nimport {\r\n  createMapL,\r\n  createDWMap\r\n} from '@/assets/js/SuperMap/ffjymap.js'\r\nlet ffvm;\r\nexport default {\r\n  data() {\r\n    return {\r\n      CurrentPage: 1,\r\n      pageSize: 5,\r\n      TotalResult: 0,\r\n      pd: {},\r\n      swdw: [],\r\n      show: true,\r\n      bzhshow: false,\r\n      lgshow: false,\r\n      jlsz: 10,\r\n      pcs: [],\r\n      xzqh: [],\r\n      tableData: [],\r\n      datastr: [],\r\n      bzhDialogVisible: false,\r\n      diatext: '标准化地址',\r\n      bzhid: '',\r\n      mc: '',\r\n      lrdw: '',\r\n      iid: '',\r\n      xydata: [],\r\n      cuint: 0,\r\n    }\r\n  },\r\n  mounted() {\r\n    window.ffvm = this;\r\n    createMapL();\r\n    this.getGX();\r\n  },\r\n  methods: {\r\n    pageSizeChange(val) {\r\n      this.getRyxx(this.CurrentPage, val, this.bzhid, this.mc, this.lrdw);\r\n      console.log(`每页 ${val} 条`);\r\n    },\r\n    handleCurrentChange(val) {\r\n      this.getRyxx(val, this.pageSize, this.bzhid, this.mc, this.lrdw);\r\n      console.log(`当前页: ${val}`);\r\n    },\r\n    changtab() {\r\n      this.show = !this.show;\r\n    },\r\n    changeTSY(t) {\r\n      if (t == \"1\") {\r\n        this.lgshow = true;\r\n        this.bzhshow = false;\r\n      } else if (t == \"2\") {\r\n        this.lgshow = false;\r\n        this.bzhshow = true;\r\n      } else {\r\n        this.lgshow = false;\r\n        this.bzhshow = false;\r\n      }\r\n    },\r\n    getPcs() {\r\n      var url = this.Global.aport1 + this.Global.pcs;\r\n      this.$api.get(url, null,\r\n        r => {\r\n          this.pcs = ToArray(r.data);\r\n        })\r\n    },\r\n    getXzqh() {\r\n      var url = this.Global.aport1 + this.Global.xzqh;\r\n      this.$api.get(url, null,\r\n        r => {\r\n          this.xzqh = ToArray(r.data);\r\n        })\r\n    },\r\n    doset() {\r\n      this.$set(this.pd, \"dwlb\", '');\r\n\r\n    },\r\n    getGX() {\r\n\r\n\r\n      this.$api.get(this.Global.aport1 + '/servicemap/getUniversity', null,\r\n        r => {\r\n          // console.log(r.data);\r\n          this.datastr = r.data;\r\n        });\r\n    },\r\n    getInfo(dm, mc) {\r\n\r\n      if (this.jlsz == undefined) {\r\n        this.$message.error(\"距离设置不能为空！\");\r\n        return;\r\n      }\r\n      this.show = !this.show;\r\n      this.iid = mc;\r\n      createDWMap(dm, mc);\r\n    },\r\n    //得到学校信息\r\n    getxxinfo(dm, callback) {\r\n      let p = {\r\n        \"xxbh\": dm,\r\n      };\r\n      var url = this.Global.aport + \"/zxdt/getXXDZList\";\r\n      this.$api.post(url, p,\r\n        r => {\r\n          if (r.success) {\r\n            callback && callback(r.data);\r\n          }\r\n        })\r\n\r\n    },\r\n    //后期匹配地址\r\n    getXY1(data,callback) {\r\n\r\n      let _this=this;\r\n      let nextfun=function(dz){\r\n        return new Promise(function(resolve,reject){\r\n          var url = _this.Global.xyaddress + \"?dz=\" + dz;\r\n          let p = {\r\n            \"url\": url,\r\n          };\r\n          _this.$api.post(_this.Global.aport + \"/zxdt/getCtUrl\", p,\r\n            r => {\r\n               var arr=[];\r\n               arr.push(r.data.result.ycoord);\r\n               arr.push(r.data.result.xcoord);\r\n               var obj={};\r\n               obj.dm=dz;\r\n               obj.zb=arr;\r\n               resolve(obj);\r\n            });\r\n        });\r\n      }\r\n\r\nvar srr=[];\r\nfor (var i = 0; i < data.length; i++) {\r\n  srr.push(nextfun(data[i].DZXQ))\r\n  console.log(nextfun(data[i].DZXQ));\r\n}\r\n\r\n    callback && callback(srr);\r\n\r\n    },\r\n    //得到学校详细地址\r\n    getXXDZ(dm, callback) {\r\n      var searchResult = [];\r\n      let p = {\r\n        \"xxdm\": dm,\r\n        \"xxmc\": this.iid,\r\n        \"sf\":\"61\",\r\n      };\r\n      this.$api.post(this.Global.aport + '/ywczdt/getFfjlBzhdz', p,\r\n        r => {\r\n          callback && callback(r.data);\r\n        });\r\n    },\r\n\r\n    //后期匹配地址\r\n    getXY(data, callback) {\r\n      var url = this.Global.xyaddress + \"?dz=\" + data;\r\n      let p = {\r\n        \"url\": url,\r\n      };\r\n      this.$api.post(this.Global.aport + \"/zxdt/getCtUrl\", p,\r\n        r => {\r\n          callback && callback(r.data.result)\r\n        });\r\n    },\r\n    //人员信息\r\n    getRyxx(currentPage, showCount, bzhid, mc) {\r\n\r\n      if (currentPage == 1) {\r\n        this.tableData = [];\r\n        this.TotalResult = 0;\r\n        this.CurrentPage = 1;\r\n      }\r\n      this.bzhid = bzhid;\r\n      this.mc = mc;\r\n\r\n      this.diatext = this.mc;\r\n\r\n      let p = {\r\n        \"currentPage\": currentPage,\r\n        \"showCount\": showCount,\r\n        \"xxdz\": this.bzhid,\r\n        \"fwcs\": this.iid,\r\n        \"sf\":\"61\",\r\n\r\n      };\r\n      var url = this.Global.aport + \"/ywczdt/getCZDJXXRYList\";\r\n      this.$api.post(url, p,\r\n        r => {\r\n          if (r.success) {\r\n\r\n            this.tableData = r.data.resultList;\r\n            this.TotalResult = r.data.totalResult;\r\n          }\r\n        });\r\n      this.bzhDialogVisible = true;\r\n    },\r\n\r\n    getXY2(data, callback) {\r\n      var url = this.Global.xyaddress + \"?dz=\" + data.dm;\r\n      let p = {\r\n        \"url\": url,\r\n      };\r\n      this.$api.post(this.Global.aport + \"/zxdt/getCtUrl\", p,\r\n        r => {\r\n          callback && callback(r.data.result, data.dm, data.count)\r\n        });\r\n    },\r\n    gotos(zjhms,gjdq){\r\n     let routeData=this.$router.resolve({path:'/Home/RYHX_NX',query:{zjhm:zjhms,gjdq:gjdq}});\r\n     window.open(routeData.href,'_blank')\r\n    },\r\n  },\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.yy-input-text {\r\n  text-align: left !important;\r\n  width: 25% !important;\r\n}\r\n\r\n.yy-input-input {\r\n  width: 70% !important;\r\n}\r\n\r\n.resultpaneltitle {\r\n  color: #fff;\r\n  background-color: #3992d0;\r\n  text-align: center;\r\n  font-size: 15px;\r\n  margin-right: 10px;\r\n  cursor: pointer;\r\n}\r\n\r\n#resultpanel {\r\n  line-height: 25px;\r\n  font-size: 12px;\r\n}\r\n\r\n.fflist {\r\n  color: #333333;\r\n  cursor: pointer;\r\n}\r\n\r\n.fflist:hover {\r\n  color: #0E93DA\r\n}\r\n\r\n.arrow_line {\r\n  position: absolute;\r\n  width: 10px;\r\n  height: 10px;\r\n  border: 2px solid #06B4FB;\r\n}\r\n</style>\r\n<style>\r\n.lzxx .my-div-icon {\r\n  border-radius: 50%;\r\n  line-height: 20px;\r\n  text-align: center;\r\n  vertical-align: middle;\r\n}\r\n\r\n.lzxx .cqgreen {\r\n  background: url(../../../../assets/img/tb/location_green.png) no-repeat;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n}\r\n\r\n.lzxx .cqred {\r\n  background: url(../../../../assets/img/tb/location_red.png) no-repeat;\r\n  font-size: 12px;\r\n  font-weight: bold;\r\n  color: #ffffff;\r\n}\r\n\r\n.bghome .el-dialog {\r\n  width: 70% !important;\r\n}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"yymain \"},[_c('div',{staticClass:\"mapbj lzxx\",attrs:{\"id\":\"mainMap\"}}),_vm._v(\" \"),_c('div',{staticClass:\"fxleft\"},[_c('div',{staticClass:\"fxbnt\"},[(_vm.show)?_c('el-button',{staticStyle:{\"border-radius\":\"0px!important\",\"border-width\":\"1px 1px 0px 1px\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"iconfont el-icon-yy-xiangshangjiantou\"},on:{\"click\":function($event){_vm.changtab()}}}):_c('el-button',{staticStyle:{\"border-radius\":\"0px!important\"},attrs:{\"size\":\"mini\",\"type\":\"primary\",\"icon\":\"iconfont el-icon-yy-xiangxiajiantou\"},on:{\"click\":function($event){_vm.changtab()}}})],1),_vm._v(\" \"),_c('el-collapse-transition',[(_vm.show)?_c('div',{staticClass:\"fxcont\"},[_c('el-row',{attrs:{\"gutter\":1}},[_c('el-col',{attrs:{\"span\":24}},[_c('span',{staticClass:\"input-text\",staticStyle:{\"width\":\"25%!important\"}},[_vm._v(\"距离设置：\")]),_vm._v(\" \"),_c('el-input-number',{attrs:{\"controls-position\":\"right\",\"size\":\"mini\",\"min\":5,\"max\":10},model:{value:(_vm.jlsz),callback:function ($$v) {_vm.jlsz=$$v},expression:\"jlsz\"}}),_vm._v(\" \"),_c('span',{staticStyle:{\"font-size\":\"12px\"}},[_vm._v(\"公里\")])],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('span',{staticStyle:{\"font-size\":\"12px\",\"color\":\"red\"}},[_vm._v(\"* 距离设置区间5-10\")])])],1),_vm._v(\" \"),_c('div',{staticClass:\"resultpaneltitle\"},[_vm._v(\"南京高校列表\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"max-height\":\"500px\",\"overflow-y\":\"scroll\"}},_vm._l((_vm.datastr),function(item){return _c('div',{attrs:{\"id\":\"resultpanel\"}},[_c('div',{staticClass:\"fflist\",on:{\"click\":function($event){_vm.getInfo(item.jgid,item.mc)}}},[_vm._v(\"\\n                  \"+_vm._s(item.mc)+\"\\n                 \")])])}),0)],1):_vm._e()])],1),_vm._v(\" \"),_c('div',{staticClass:\"bghome\"},[_c('el-dialog',{attrs:{\"title\":_vm.diatext,\"visible\":_vm.bzhDialogVisible},on:{\"update:visible\":function($event){_vm.bzhDialogVisible=$event}}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"照片\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [(scope.row.zp)?_c('div',[_c('el-popover',{attrs:{\"placement\":\"right\",\"title\":\"\",\"trigger\":\"hover\"}},[_c('img',{staticStyle:{\"max-width\":\"700px\",\"max-height\":\"700px\"},attrs:{\"src\":scope.row.zp}}),_vm._v(\" \"),_c('img',{attrs:{\"slot\":\"reference\",\"src\":scope.row.zp,\"alt\":scope.row.zp,\"width\":\"50\",\"height\":\"50\"},slot:\"reference\"})])],1):_vm._e()]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"sf\",\"label\":\"身份\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"fwcs\",\"label\":\"服务处所\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ywxm\",\"label\":\"英文姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"zwxm\",\"label\":\"中文姓名\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"xb\",\"label\":\"性别\",\"width\":\"60\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"csrq\",\"label\":\"出生日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"djrq\",\"label\":\"登记日期\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"gjdq\",\"label\":\"国家地区\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"zjzl\",\"label\":\"证件种类\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"zjhm\",\"label\":\"证件号码\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"color\":\"yellow\",\"cursor\":\"pointer\"},on:{\"click\":function($event){_vm.gotos(scope.row.zjhm,scope.row.gjdqdm)}}},[_vm._v(_vm._s(scope.row.zjhm))])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"middle-foot mt-10\"},[_c('div',{staticClass:\"page-msg\"},[_c('div',{staticClass:\"crrcolor\"},[_vm._v(\"\\n              共\"+_vm._s(_vm.TotalResult)+\"条记录\\n              \")]),_vm._v(\" \"),_c('div',{staticClass:\"crrcolor\"}),_vm._v(\" \"),_c('div',{staticClass:\"crrcolor\"})]),_vm._v(\" \"),_c('el-pagination',{attrs:{\"background\":\"\",\"current-page\":_vm.CurrentPage,\"page-size\":_vm.pageSize,\"layout\":\"prev, pager, next\",\"total\":_vm.TotalResult},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.CurrentPage=$event}}})],1),_vm._v(\" \"),_c('div',{attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('img',{staticStyle:{\"cursor\":\"pointer\"},attrs:{\"src\":require(\"../../../../assets/img/qx.png\"),\"border\":\"0\"},on:{\"click\":function($event){_vm.bzhDialogVisible = false}}})]),_vm._v(\" \"),_c('div',{staticClass:\"arrow_line\",staticStyle:{\"left\":\"0px\",\"top\":\"0px\",\"border-bottom-width\":\"0\",\"border-right-width\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"arrow_line\",staticStyle:{\"right\":\"0px\",\"top\":\"0px\",\"border-bottom-width\":\"0\",\"border-left-width\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"arrow_line\",staticStyle:{\"left\":\"0px\",\"bottom\":\"0px\",\"border-top-width\":\"0\",\"border-right-width\":\"0\"}}),_vm._v(\" \"),_c('div',{staticClass:\"arrow_line\",staticStyle:{\"right\":\"0px\",\"bottom\":\"0px\",\"border-top-width\":\"0\",\"border-left-width\":\"0\"}})],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-84fc4822\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84fc4822\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./CQQZFFJYYJ.vue\")\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-84fc4822\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./CQQZFFJYYJ.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CQQZFFJYYJ.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./CQQZFFJYYJ.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-84fc4822\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./CQQZFFJYYJ.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-84fc4822\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/YJYP/YJ/ASJYJ/CQQZFFJYYJ.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}